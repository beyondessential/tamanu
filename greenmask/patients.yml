---
schema: public
name: patients
transformers:
  - name: RandomString
    params:
      column: display_id
      min_length: 10
      max_length: 10
      symbols: 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ

  - name: RandomFirstName
    params:
      column: first_name
      keep_null: true

  - name: RandomLastName
    params:
      column: last_name
      keep_null: true

  - name: RandomFirstName
    params:
      column: middle_name
      keep_null: true

  - name: RandomFirstName
    params:
      column: cultural_name
      keep_null: true

  - name: RandomEmail
    params:
      column: email
      keep_null: true

  - name: Template
    params:
      column: date_of_death
      template: >
        {{- if isNull .GetValue -}}
          {{- null -}}
        {{- else -}}
          {{- fakerDate -}}
        {{- end -}}

  - name: Template
    params:
      column: date_of_birth
      template: >
        {{- if isNull .GetValue -}}
          {{- null -}}
        {{- else -}}
          {{- fakerDate -}}
        {{- end -}}

  - name: Masking
    params:
      column: additional_details

  - name: SetNull
    params:
      column: date_of_birth_legacy
  - name: SetNull
    params:
      column: date_of_death_legacy
