---
schema: public
name: lab_tests
transformers:
  - name: Template
    params:
      column: date
      template: >
        {{- if isNull .GetValue -}}
          {{- null -}}
        {{- else -}}
          {{- fakerDate -}}
        {{- end -}}

  - name: Masking
    params:
      column: result

  - name: Masking
    params:
      column: laboratory_officer

  - name: Masking
    params:
      column: verification

  - name: Template
    params:
      column: completed_date
      template: >
        {{- if isNull .GetValue -}}
          {{- null -}}
        {{- else -}}
          {{- fakerTimestamp -}}
        {{- end -}}

  - name: SetNull
    params:
      column: date_legacy
  - name: SetNull
    params:
      column: completed_date_legacy
