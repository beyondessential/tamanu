---
schema: public
name: users
transformers:
  - name: RandomString
    params:
      column: display_id
      min_length: 10
      max_length: 10
      symbols: 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ

  - name: Template
    params:
      column: email
      template: >
        {{- if isNull .GetValue -}}
          {{- null -}}
        {{- else if eq (.GetColumnValue "role") "admin" "system" -}}
          {{- .GetValue -}}
        {{- else -}}
          {{- fakerEmail -}}
        {{- end -}}

  - name: Template
    params:
      column: password
      template: >
        {{- if isNull .GetValue -}}
          {{- null -}}
        {{- else if eq (.GetColumnValue "role") "admin" "system" -}}
          {{- .GetValue -}}
        {{- else -}}
          {{- fakerPassword -}}
        {{- end -}}

  - name: RandomName
    params:
      column: display_name

  - name: RandomPhoneNumber
    params:
      column: phone_number
