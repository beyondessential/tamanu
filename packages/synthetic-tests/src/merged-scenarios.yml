# ⚠️ Auto-generated file
# Do not edit directly. Regenerate with:
#   npm run merge-scenarios
#
config:
  target: http://localhost:4000
  processor: hooks/index.ts
  phases:
    - name: Warmup
      duration: 30m
      arrivalRate: 1
      rampTo: 5
    - name: Sustained
      duration: 5h
      arrivalRate: 5
scenarios:
  - name: Create encounter
    beforeScenario:
      - authenticate
    flow:
      - function: generateEncounterPayload
      - post:
          url: /api/encounter
          headers:
            Authorization: Bearer {{token}}
            Content-Type: application/json
          json: '{{encounterPayload}}'
          expect:
            - statusCode:
                - 200
                - 201
  - name: Create patient
    beforeScenario:
      - authenticate
    flow:
      - function: generatePatientPayload
      - post:
          url: /api/patient
          headers:
            Authorization: Bearer {{token}}
            Content-Type: application/json
          json: '{{patientPayload}}'
          expect:
            - statusCode:
                - 200
                - 201
